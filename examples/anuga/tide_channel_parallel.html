

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Example - Simple beach and tide channel (ANUGA in parallel) &mdash; DYCOVE 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=01f34227"></script>
      <script src="../../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../../_static/sphinx_highlight.js?v=6ffebe34"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Example - Simple beach and tide channel (Delft3D FM)" href="../dfm/tide_channel.html" />
    <link rel="prev" title="Example - Simple beach and tide channel (ANUGA)" href="tide_channel.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            DYCOVE
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation/index.html">Installation Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../background/index.html">Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../userguide/index.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Examples</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#id2">ANUGA</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="tide_channel.html">Example - Simple beach and tide channel (ANUGA)</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Example - Simple beach and tide channel (ANUGA in parallel)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#delft3d-fm">Delft3D FM</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../troubleshooting/index.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../apiref/index.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">DYCOVE</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Examples</a></li>
      <li class="breadcrumb-item active">Example - Simple beach and tide channel (ANUGA in parallel)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/examples/anuga/tide_channel_parallel.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="example-simple-beach-and-tide-channel-anuga-in-parallel">
<span id="tide-channel-anuga-pll"></span><h1>Example - Simple beach and tide channel (ANUGA in parallel)<a class="headerlink" href="#example-simple-beach-and-tide-channel-anuga-in-parallel" title="Link to this heading"></a></h1>
<p>This example corresponds to the Python file <cite>tide_channel_ANUGA_pll.py</cite> located in the <cite>examples/ANUGA/tide_channel_parallel/</cite> directory, along with supporting input files.
This example uses the same bathymetry and vegetation inputs as the <a class="reference internal" href="tide_channel.html"><span class="doc">serial ANUGA example</span></a>.</p>
<p>DYCOVE-ANUGA can be run in parallel as long as <cite>mpi4py</cite> is installed (see <a class="reference internal" href="../../installation/index.html"><span class="doc">Installation Instructions</span></a>) and the user has access to more than one processor.
DYCOVE commands remain the same, but the ANUGA domain must be generated in parallel using a slightly modified approach.
For this example, the parallel domain generation approach is provided in <cite>gen_anuga_domain_pll.py</cite> in the working directory.
Users with existing ANUGA model codes that run in parallel should be able to seemlessly integrate DYCOVE in those codes by passing their parallelized domain in the same way as the serial examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">HydroModel</span> <span class="o">=</span> <span class="n">ANUGA_hydro</span><span class="o">.</span><span class="n">ANUGA</span><span class="p">(</span><span class="n">domain</span><span class="p">,</span> <span class="n">vegetation</span><span class="o">=</span><span class="n">veg_1</span><span class="p">)</span>
</pre></div>
</div>
<p>This example uses a Windows batch file <cite>tide_channel_ANUGA_pll.bat</cite> in the working directory, which contains instructions on how to run it.
As with any batch file, view and edit it by alt-clicking and choosing the “Edit” option.
For users with HPC access, the DYCOVE-ANUGA Python script can be run via a Slurm scheduling script.</p>
<p>Note that for very large ANUGA domains, the parallel file merging that needs to occur at the end of the simulation can take a long time (we are working on a better solution).
We tested a simulation of 370,000 elements running on 180 cores that ran for about 2:15 hours, and the final merging took about one hour.
This time may depend on the frequency of simulation outputs, load balancing (of vegetation), and number of vegetation cohorts (colonization events).
If running on HPC, request a couple additional simulation hours just in case, until you get a sense of how long it takes at the end.</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="tide_channel.html" class="btn btn-neutral float-left" title="Example - Simple beach and tide channel (ANUGA)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../dfm/tide_channel.html" class="btn btn-neutral float-right" title="Example - Simple beach and tide channel (Delft3D FM)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, N. Tull, M. Brückner.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>